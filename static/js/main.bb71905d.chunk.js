(this["webpackJsonpcomponents-demo"]=this["webpackJsonpcomponents-demo"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},77:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(16),a=n.n(c),s=(n(42),n(43),n(44),n(0)),i=function(e){switch(e.type){case"bread-top":return Object(s.jsxs)("div",{className:"BreadTop",children:[Object(s.jsx)("div",{className:"Seeds1"}),Object(s.jsx)("div",{className:"Seeds2"})]});case"bread-bottom":return Object(s.jsx)("div",{className:"BreadBottom"});case"meat":return Object(s.jsx)("div",{className:"Meat"});case"salad":return Object(s.jsx)("div",{className:"Salad"});case"cheese":return Object(s.jsx)("div",{className:"Cheese"});case"bacon":return Object(s.jsx)("div",{className:"Bacon"});default:return null}},o=function(e){var t=e.ingredients,n=[];return Object.keys(t).forEach((function(e){for(var r=t[e],c=0;c<r;c++)n.push(Object(s.jsx)(i,{type:e},e+c))})),Object(s.jsxs)("div",{className:"Burger",children:[Object(s.jsx)(i,{type:"bread-top"}),n.length>0?n:Object(s.jsx)("p",{children:"Please add ingredients"}),Object(s.jsx)(i,{type:"bread-bottom"})]})},u=(n(46),n(47),function(e){return Object(s.jsxs)("div",{className:"BuildControl",children:[Object(s.jsx)("div",{className:"Label",children:e.type}),Object(s.jsx)("button",{className:"Less",disabled:e.disabled,onClick:e.remove,children:"Less"}),Object(s.jsx)("button",{className:"More",onClick:e.add,children:"More"})]})}),d=function(e){return Object(s.jsxs)("div",{className:"BuildControls",children:[Object(s.jsxs)("p",{children:["Current price: ",Object(s.jsxs)("strong",{children:[e.totalPrice," KGS"]})]}),Object.keys(e.ingredients).map((function(t){return Object(s.jsx)(u,{type:t,disabled:0===e.ingredients[t],add:function(){return e.addIngredient(t)},remove:function(){return e.removeIngredient(t)}},t)})),Object(s.jsx)("button",{className:"OrderButton",disabled:!e.purchasable,onClick:e.onOrder,children:"ORDER NOW"})]})},j=(n(48),n(49),function(e){var t=e.show,n=e.onClick;return t?Object(s.jsx)("div",{className:"Backdrop",onClick:n}):null}),l=function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j,{show:e.show,onClick:e.close}),Object(s.jsx)("div",{className:"Modal",style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},children:e.children})]})},b=(n(50),function(e){return Object(s.jsx)("button",{onClick:e.onClick,className:["Button",e.type].join(" "),children:e.children})}),O=function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:"Your order"}),Object(s.jsx)("p",{children:"A delicious burger with the following ingredients:"}),Object(s.jsx)("ul",{children:Object.keys(e.ingredients).map((function(t){return Object(s.jsxs)("li",{children:[Object(s.jsx)("span",{style:{textTransform:"capitalize"},children:t}),": ",e.ingredients[t]]},t)}))}),Object(s.jsx)("p",{children:Object(s.jsxs)("strong",{children:["Total Price: ",e.totalPrice," KGS"]})}),Object(s.jsx)("p",{children:"Continue to checkout?"}),Object(s.jsx)(b,{type:"Danger",onClick:e.onCancel,children:"CANCEL"}),Object(s.jsx)(b,{type:"Success",onClick:e.onContinue,children:"CONTINUE"})]})},h=n(4),p="ADD_INGREDIENT",f="REMOVE_INGREDIENT",x="SHOW_MODAL_OPEN",m="INIT_BURGER_BUILDER",g=function(e){return{type:x,payload:e}},v=function(e){var t=e.history,n=Object(h.c)(),c=Object(h.d)((function(e){return e.burgerBuilder.ingredients})),a=Object(h.d)((function(e){return e.burgerBuilder.totalPrice})),i=Object(h.d)((function(e){return e.burgerBuilder.showPurchaseModal}));Object(r.useEffect)((function(){n({type:m})}),[n]);var u=Object(r.useMemo)((function(){return Object.keys(c).map((function(e){return c[e]})).reduce((function(e,t){return e+t}),0)>0}),[c]),j=function(){n(g(!1))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{show:i,close:j,children:Object(s.jsx)(O,{ingredients:c,totalPrice:a,onCancel:j,onContinue:function(){t.push("/checkout")}})}),Object(s.jsx)(o,{ingredients:c}),Object(s.jsx)(d,{ingredients:c,totalPrice:a,addIngredient:function(e){n({type:p,payload:e})},removeIngredient:function(e){n({type:f,payload:e})},purchasable:u,onOrder:function(){n(g(!0))}})]})},y=n(3),E=n(2),N=(n(56),function(e){var t=e.ingredients,n=e.cancel,r=e.next;return Object(s.jsxs)("div",{className:"CheckoutSummary",children:[Object(s.jsx)("h1",{children:"We hope it tastes well!"}),Object(s.jsx)("div",{style:{width:"100%",margin:"auto"},children:Object(s.jsx)(o,{ingredients:t})}),Object(s.jsx)(b,{type:"Danger",onClick:n,children:"CANCEL"}),Object(s.jsx)(b,{type:"Success",onClick:r,children:"CONTINUE"})]})}),C=n(9),k=n.n(C),S=n(14),w=n(10),R=n(35),I=(n(58),n(30)),_=n.n(I).a.create({baseURL:"https://food-burger-25b44-default-rtdb.europe-west1.firebasedatabase.app"}),D={salad:{price:5},cheese:{price:20},meat:{price:50},bacon:{price:30}},L=function(e){return Object.keys(e).map((function(t){var n=e[t],r=Object.keys(n.ingredients).reduce((function(e,t){return e+D[t].price*n.ingredients[t]}),20);return Object(E.a)(Object(E.a)({},n),{},{id:t,price:r})}))},B="ORDER_REQUEST",P="ORDER_SUCCESS",T="ORDER_FAILURE",M="FETCH_ORDERS_REQUEST",U="FETCH_ORDERS_SUCCESS",F="FETCH_ORDERS_FAILURE",A=function(e){return{type:U,payload:e}},G=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:B}),t.next=4,_.post("/orders.json",e);case 4:n({type:P}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),n((r=t.t0,{type:T,payload:r})),t.t0;case 11:case"end":return t.stop()}var r}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Y=(n(77),function(){return Object(s.jsx)("div",{className:"Spinner",children:"Loading..."})}),H=function(e){var t=e.ingredients,n=e.history,c=Object(h.c)(),a=Object(h.d)((function(e){return e.orders.loading})),i=Object(r.useState)({name:"",email:"",street:"",postal:""}),o=Object(R.a)(i,2),u=o[0],d=o[1],j=function(e){var t=e.target,n=t.name,r=t.value;d((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(w.a)({},n,r))}))},l=function(){var e=Object(S.a)(k.a.mark((function e(r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,c(G({customer:u,ingredients:t}));case 4:n.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),O=Object(s.jsxs)("form",{onSubmit:l,children:[Object(s.jsx)("input",{className:"Input",type:"text",name:"name",placeholder:"Your Name",value:u.name,onChange:j}),Object(s.jsx)("input",{className:"Input",type:"email",name:"email",placeholder:"Your Mail",value:u.email,onChange:j}),Object(s.jsx)("input",{className:"Input",type:"text",name:"street",placeholder:"Street",value:u.street,onChange:j}),Object(s.jsx)("input",{className:"Input",type:"text",name:"postal",placeholder:"Postal Code",value:u.postal,onChange:j}),Object(s.jsx)(b,{type:"Success",children:"ORDER"})]});return a&&(O=Object(s.jsx)(Y,{})),Object(s.jsxs)("div",{className:"ContactData",children:[Object(s.jsx)("h4",{children:"Enter your Contact Data"}),O]})},K=function(e){var t=e.history,n=e.match,r=Object(h.d)((function(e){return e.burgerBuilder.ingredients}));return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{ingredients:r,next:function(){t.replace("/checkout/contact-data")},cancel:function(){t.goBack()}}),Object(s.jsx)(y.a,{path:n.path+"/contact-data",render:function(e){return Object(s.jsx)(H,Object(E.a)({ingredients:r},e))}})]})},W=(n(82),n(83),n(84),n.p+"static/media/burger_logo.ec69c7f6.png"),J=function(){return Object(s.jsx)("div",{className:"Logo",children:Object(s.jsx)("img",{src:W,alt:"BurgerApp"})})},Q=(n(85),n(86),n(12)),V=function(e){var t=e.to,n=e.exact,r=e.children;return Object(s.jsx)("li",{className:"NavigationItem",children:Object(s.jsx)(Q.b,{to:t,exact:n,children:r})})},X=function(){return Object(s.jsxs)("div",{className:"NavigationItems",children:[Object(s.jsx)(V,{to:"/",exact:!0,children:"Burger"}),Object(s.jsx)(V,{to:"/orders",children:"Orders"})]})},z=function(){return Object(s.jsxs)("header",{className:"Toolbar",children:[Object(s.jsx)("div",{className:"Toolbar-Logo",children:Object(s.jsx)(J,{})}),Object(s.jsx)("nav",{children:Object(s.jsx)(X,{})})]})},Z=function(e){var t=e.children;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(z,{}),Object(s.jsx)("main",{className:"Layout-Content",children:t})]})},q=(n(87),n(88),function(e){var t=e.ingredients,n=e.customer,r=e.price,c=Object.keys(t).map((function(e){return Object(s.jsxs)("span",{children:[e," (",t[e],")"]},e)})),a=Object.keys(n).map((function(e){return Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:e}),": ",n[e]]},e)}));return Object(s.jsxs)("div",{className:"OrderItem",children:[Object(s.jsxs)("p",{children:["Ingredients: ",c]}),Object(s.jsxs)("p",{children:["Customer: ",a]}),Object(s.jsxs)("p",{children:["Price: ",Object(s.jsxs)("strong",{children:[r," KGZ"]})]})]})}),$=n(32),ee=n(33),te=n(37),ne=n(36),re=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){var e;Object($.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1,errorMessage:""},e}return Object(ee.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,errorMessage:e})}},{key:"render",value:function(){return this.state.hasError?Object(s.jsx)("div",{children:"Something wrong happened"}):this.props.children}}]),n}(r.Component),ce=function(){var e=Object(h.c)(),t=Object(h.d)((function(e){return{fetchLoading:e.orders.fetchLoading,fetchError:e.orders.fecthError,orders:e.orders.orders}}),h.b),n=t.fetchLoading,c=t.fetchError,a=t.orders;Object(r.useEffect)((function(){e(function(){var e=Object(S.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:M}),e.next=4,_.get("/orders.json");case 4:n=e.sent,r=L(n.data),t(A(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t((c=e.t0,{type:F,payload:c}));case 12:case"end":return e.stop()}var c}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var i=a.map((function(e){return Object(s.jsx)(re,{children:Object(s.jsx)(q,{ingredients:e.ingredients,customer:e.customer,price:e.price})},e.id)}));return n?i=Object(s.jsx)(Y,{}):c&&(i=Object(s.jsx)("div",{children:"Sorry, could not fetch Orders"})),i},ae=function(){return Object(s.jsx)(Z,{children:Object(s.jsxs)(y.c,{children:[Object(s.jsx)(y.a,{path:"/",exact:!0,component:v}),Object(s.jsx)(y.a,{path:"/checkout",component:K}),Object(s.jsx)(y.a,{path:"/orders",component:ce}),Object(s.jsx)(y.a,{render:function(){return Object(s.jsx)("h1",{children:"Not found"})}})]})})},se=n(34),ie=n(15),oe={ingredients:{salad:0,bacon:0,cheese:0,meat:0},totalPrice:20,showPurchaseModal:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(E.a)({},oe);case p:return Object(E.a)(Object(E.a)({},e),{},{ingredients:Object(E.a)(Object(E.a)({},e.ingredients),{},Object(w.a)({},t.payload,e.ingredients[t.payload]+1)),totalPrice:e.totalPrice+D[t.payload].price});case f:return e.ingredients[t.payload]<=0?e:Object(E.a)(Object(E.a)({},e),{},{ingredients:Object(E.a)(Object(E.a)({},e.ingredients),{},Object(w.a)({},t.payload,e.ingredients[t.payload]-1)),totalPrice:e.totalPrice-D[t.payload].price});case x:return Object(E.a)(Object(E.a)({},e),{},{showPurchaseModal:t.payload});default:return e}},de={loading:!1,fetchLoading:!1,error:null,fetchError:null,orders:[]},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case P:return Object(E.a)(Object(E.a)({},e),{},{loading:!1});case T:return Object(E.a)(Object(E.a)({},e),{},{error:t.payload,loading:!1});case M:return Object(E.a)(Object(E.a)({},e),{},{fetchLoading:!0,fetchError:null});case U:return Object(E.a)(Object(E.a)({},e),{},{fetchLoading:!1,orders:t.payload,fetchError:null});case F:return Object(E.a)(Object(E.a)({},e),{},{fetchError:t.payload,fetchLoading:!1});default:return e}},le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.c,be=Object(ie.b)({burgerBuilder:ue,orders:je}),Oe=Object(ie.d)(be,le(Object(ie.a)(se.a))),he=Object(s.jsx)(h.a,{store:Oe,children:Object(s.jsx)(Q.a,{children:Object(s.jsx)(ae,{})})});a.a.render(he,document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.bb71905d.chunk.js.map